{% extends "base.html" %} {% block title %}Student Lists{% endblock %} {% block content %}

<div class="d-flex justify-content-between align-items-center flex-wrap grid-margin">
	<div>
		<h4 class="mb-3 mb-md-0">Student Lists</h4>
	</div>
	<div class="d-flex align-items-center flex-wrap text-nowrap">
		<button type="button" class="btn btn-outline-info btn-icon-text mr-2 d-none d-md-block">
			<i class="btn-icon-prepend" data-feather="download"></i>
			Import
		</button>
		<button type="button" class="btn btn-outline-primary btn-icon-text mr-2 mb-2 mb-md-0">
			<i class="btn-icon-prepend" data-feather="printer"></i>
			Print
		</button>

		<a href="{% url 'add_student' %}" class="btn btn-success btn-icon-text mb-2 mb-md-0">
			<i class="btn-icon-prepend" data-feather="plus"></i>
			Add Student
		</a>
	</div>
</div>

<div class="row">
	<div class="col-md-12 grid-margin stretch-card">
		<div class="card">
			<div class="card-body">
				<form method="get" class="mb-3">
					<input type="text" name="q" value="{{ query }}" class="form-control w-25" placeholder="Search students..." />
				</form>

				<div class="table-responsive">
					<table id="dataTableExample" class="table table-bordered">
						<thead>
							<tr>
								<th>Full Name</th>
								<th>Course</th>
								<th>Contact</th>
								<th>Email</th>
								<th>Alternative Contact</th>
								<th>Religion</th>
								<th>Actions</th>
							</tr>
						</thead>

						<tbody>
							{% for student in page_obj %}
							<tr>
								<td>{{ student.full_name }}</td>
								<td>{{ student.course }}</td>
								<td>{{ student.contact_number|default:"-" }}</td>
								<td>{{ student.email|default:"-" }}</td>
								<td>{{ student.alternative_contact_number|default:"-" }}</td>
								<td>{{ student.religion|default:"-" }}</td>
								<td>
									<a href="{% url 'edit_student' student.pk %}" class="btn btn-primary btn-sm">Edit</a>
									<a href="{% url 'delete_student' student.pk %}" class="btn btn-danger btn-sm">Delete</a>
								</td>
							</tr>
							{% empty %}
							<tr>
								<td colspan="7" class="text-center">No students found.</td>
							</tr>
							{% endfor %}
						</tbody>
					</table>
					<div class="d-flex justify-content-end mt-3">
						<nav aria-label="Page navigation">
							<ul class="pagination">
								{% if page_obj.has_previous %}
								<li class="page-item">
									<a class="page-link" href="?page={{ page_obj.previous_page_number }}" aria-label="Previous">
										<span aria-hidden="true">&laquo;</span>
									</a>
								</li>
								{% else %}
								<li class="page-item disabled">
									<span class="page-link">&laquo;</span>
								</li>
								{% endif %} {% for num in page_obj.paginator.page_range %} {% if page_obj.number == num %}
								<li class="page-item active"><span class="page-link">{{ num }}</span></li>
								{% elif num > page_obj.number|add:'-3' and num < page_obj.number|add:'3' %}
								<li class="page-item"><a class="page-link" href="?page={{ num }}">{{ num }}</a></li>
								{% endif %} {% endfor %} {% if page_obj.has_next %}
								<li class="page-item">
									<a class="page-link" href="?page={{ page_obj.next_page_number }}" aria-label="Next">
										<span aria-hidden="true">&raquo;</span>
									</a>
								</li>
								{% else %}
								<li class="page-item disabled">
									<span class="page-link">&raquo;</span>
								</li>
								{% endif %}
							</ul>
						</nav>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
{% endblock %}
